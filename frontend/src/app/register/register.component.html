<form class="form-sign text-center mt-5" name="form" (ngSubmit)="f.form.valid && register()" #f="ngForm" novalidate>
    <h1>Création de compte</h1>
    <input class="form-control" type="text" [ngClass]="{ 'has-error': f.submitted && !firstname.valid }" name="firstname" [(ngModel)]="user.firstname" #firstname="ngModel" placeholder="Prénom" required autofocus />
    <small *ngIf="f.submitted && !firstname.valid" class="float-left text-danger">Le prénom est obligatoire</small>

    <input class="form-control" type="text" [ngClass]="{ 'has-error': f.submitted && !lastname.valid }" name="lastname" [(ngModel)]="user.lastname" #lastname="ngModel" placeholder="Nom" required />
    <small *ngIf="f.submitted && !lastname.valid" class="float-left text-danger">Le nom est obligatoire</small>

    <input class="form-control" type="text" [ngClass]="{ 'has-error': f.submitted && !username.valid }" name="username" [(ngModel)]="user.username" #username="ngModel" placeholder="Nom d'utilisateur" required />
    <small *ngIf="f.submitted && !username.valid" class="float-left text-danger">Le nom d'utilisateur est obligatoire</small>

    <input class="form-control" type="text" [ngClass]="{ 'has-error': f.submitted && !email.valid }" name="email" [(ngModel)]="user.email" #email="ngModel" placeholder="Email" required />
    <small *ngIf="f.submitted && !email.valid" class="float-left text-danger">L'email est obligatoire</small>

    <input class="form-control" type="password" [ngClass]="{ 'has-error': f.submitted && !password.valid }" name="password" [(ngModel)]="user.password" #password="ngModel" placeholder="Mot de passe" required />
    <small *ngIf="f.submitted && !password.valid" class="float-left text-danger">Le mot de passe est obligatoire</small>

    <button [disabled]="loading" class="mt-2 btn btn-lg btn-block btn-primary">S'enregister</button>
    <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
    <button class="btn btn-lg btn-block btn-danger" [routerLink]="['/login']">Annuler</button>
</form>